<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶Æ‡¶æ‡¶ú | ‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ ‡¶®‡¶ø‡¶â‡¶ú ‡¶ï‡¶æ‡¶∞‡ßç‡¶° ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶ü‡¶∞</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üì∞</text></svg>">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --brand-primary: #dc2626;
      --brand-secondary: #991b1b;
      --text-primary: #1f2937;
      --text-secondary: #6b7280;
      --bg-primary: #f8fafc;
      --bg-secondary: #ffffff;
      --border-color: #e5e7eb;
      --shadow-light: 0 1px 3px rgba(0, 0, 0, 0.1);
      --shadow-medium: 0 4px 6px rgba(0, 0, 0, 0.1);
      --shadow-heavy: 0 10px 25px rgba(0, 0, 0, 0.15);
      --gradient-primary: linear-gradient(135deg, var(--brand-primary), var(--brand-secondary));
      --gradient-bg: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: var(--gradient-bg);
      min-height: 100vh;
      padding: 20px;
      color: var(--text-primary);
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .header {
      text-align: center;
      margin-bottom: 40px;
      color: white;
    }

    .header h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    }

    .header .subtitle {
      font-size: 1.1rem;
      opacity: 0.9;
    }

    .main-content {
      display: grid;
      grid-template-columns: 1fr 400px;
      gap: 40px;
      align-items: start;
    }

    .card-preview {
      background: white;
      border-radius: 20px;
      padding: 20px;
      box-shadow: var(--shadow-heavy);
    }

    .news-card {
      width: 100%;
      max-width: 500px;
      margin: 0 auto;
      background: linear-gradient(135deg, #f8f9fa, #e9ecef);
      border-radius: 20px;
      overflow: hidden;
      box-shadow: var(--shadow-heavy);
      position: relative;
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px;
      position: relative;
    }

    .channel-logo {
      width: 80px;
      height: 80px;
      background: white;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: var(--shadow-medium);
      font-weight: bold;
      color: #666;
      font-size: 12px;
    }

    .date-tag {
      background: var(--gradient-primary);
      color: white;
      padding: 8px 16px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 600;
      box-shadow: var(--shadow-medium);
    }

    .card-image {
      width: 100%;
      height: 250px;
      background: linear-gradient(135deg, #f0f0f0, #e0e0e0);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #666;
      font-size: 18px;
      font-weight: 500;
      margin: 0 20px;
      border-radius: 12px;
      margin-bottom: 20px;
    }

    .card-content {
      background: var(--gradient-primary);
      padding: 30px 20px;
      text-align: center;
    }

    .news-title {
      color: white;
      font-size: 32px;
      font-weight: bold;
      line-height: 1.3;
      margin-bottom: 20px;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
    }

    .card-footer {
      background: var(--brand-secondary);
      padding: 15px 20px;
      text-align: center;
    }

    .website-link {
      color: white;
      font-size: 16px;
      font-weight: 500;
    }

    .controls-panel {
      background: white;
      border-radius: 20px;
      padding: 30px;
      box-shadow: var(--shadow-heavy);
      height: fit-content;
    }

    .input-group {
      margin-bottom: 25px;
    }

    .input-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: var(--text-primary);
    }

    .input-group input[type="text"] {
      width: 100%;
      padding: 12px 16px;
      border: 2px solid var(--border-color);
      border-radius: 12px;
      font-size: 16px;
      transition: all 0.3s ease;
    }

    .input-group input[type="text"]:focus {
      outline: none;
      border-color: var(--brand-primary);
      box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
    }

    .color-picker-group {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin-top: 10px;
    }

    .color-option {
      width: 50px;
      height: 50px;
      border-radius: 12px;
      cursor: pointer;
      border: 3px solid transparent;
      transition: all 0.3s ease;
      position: relative;
    }

    .color-option:hover {
      transform: scale(1.1);
    }

    .color-option.active {
      border-color: #333;
      transform: scale(1.1);
    }

    .color-option[data-color="#dc2626"] { background: #dc2626; }
    .color-option[data-color="#2563eb"] { background: #2563eb; }
    .color-option[data-color="#16a34a"] { background: #16a34a; }
    .color-option[data-color="#ea580c"] { background: #ea580c; }
    .color-option[data-color="#9333ea"] { background: #9333ea; }
    .color-option[data-color="#0891b2"] { background: #0891b2; }

    .template-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
      margin-top: 10px;
    }

    .template-btn {
      padding: 15px;
      border: 2px solid var(--border-color);
      border-radius: 12px;
      background: white;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
      font-weight: 600;
    }

    .template-btn:hover {
      border-color: var(--brand-primary);
      background: #fef2f2;
    }

    .template-btn.active {
      border-color: var(--brand-primary);
      background: var(--brand-primary);
      color: white;
    }

    .font-size-control {
      margin-top: 10px;
    }

    .font-size-slider {
      width: 100%;
      margin-top: 10px;
    }

    .actions {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin-top: 30px;
    }

    .btn {
      padding: 15px 20px;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .btn-primary {
      background: var(--gradient-primary);
      color: white;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-heavy);
    }

    .btn-secondary {
      background: #f3f4f6;
      color: var(--text-primary);
      border: 2px solid var(--border-color);
    }

    .btn-secondary:hover {
      background: #e5e7eb;
    }

    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 15px 20px;
      border-radius: 12px;
      color: white;
      font-weight: 600;
      z-index: 1000;
      transform: translateX(400px);
      transition: transform 0.3s ease;
    }

    .notification.show {
      transform: translateX(0);
    }

    .notification.success {
      background: #16a34a;
    }

    .notification.error {
      background: #dc2626;
    }

    .loading {
      width: 20px;
      height: 20px;
      border: 2px solid transparent;
      border-top: 2px solid currentColor;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .file-upload-wrapper {
      margin-top: 10px;
    }

    .file-upload-btn {
      width: 100%;
      padding: 12px 16px;
      border: 2px dashed var(--border-color);
      border-radius: 12px;
      background: #f8f9fa;
      color: var(--text-secondary);
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .file-upload-btn:hover {
      border-color: var(--brand-primary);
      background: #fef2f2;
      color: var(--brand-primary);
    }

    .file-upload-btn.has-file {
      border-color: var(--brand-primary);
      background: var(--brand-primary);
      color: white;
      border-style: solid;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .main-content {
        grid-template-columns: 1fr;
        gap: 20px;
      }
      
      .header h1 {
        font-size: 2rem;
      }
      
      .news-title {
        font-size: 24px;
      }
      
      .controls-panel {
        padding: 20px;
      }
    }

    @media (max-width: 480px) {
      body {
        padding: 10px;
      }
      
      .header h1 {
        font-size: 1.5rem;
      }
      
      .news-title {
        font-size: 20px;
      }
      
      .template-grid {
        grid-template-columns: 1fr;
      }
      
      .actions {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1><i class="fas fa-newspaper"></i> ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶Æ‡¶æ‡¶ú</h1>
      <p class="subtitle">‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ ‡¶®‡¶ø‡¶â‡¶ú ‡¶ï‡¶æ‡¶∞‡ßç‡¶° ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶ü‡¶∞</p>
    </div>

    <div class="main-content">
      <div class="card-preview">
        <div class="news-card" id="newsCard">
          <div class="card-header">
            <div class="channel-logo">
              ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶Æ‡¶æ‡¶ú
            </div>
            <div class="date-tag" id="dateTag">
              ‡ßß‡ß´ ‡¶ú‡ßÅ‡¶≤‡¶æ‡¶á, ‡ß®‡ß¶‡ß®‡ß´
            </div>
          </div>
          
          <div class="card-image" id="cardImage">
            ‡¶õ‡¶¨‡¶ø
          </div>
          
          <div class="card-content">
            <h2 class="news-title" id="newsTitle">‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ñ‡¶¨‡¶∞‡ßá‡¶∞ ‡¶∂‡¶ø‡¶∞‡ßã‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®</h2>
          </div>
          
          <div class="card-footer">
            <div class="website-link">
              üåê ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶™‡¶°‡¶º‡ßÅ‡¶®: amadersomaj.com
            </div>
          </div>
        </div>
      </div>

      <div class="controls-panel">
        <div class="input-group">
          <label for="headlineInput">üì∞ ‡¶ñ‡¶¨‡¶∞‡ßá‡¶∞ ‡¶∂‡¶ø‡¶∞‡ßã‡¶®‡¶æ‡¶Æ</label>
          <input type="text" id="headlineInput" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ñ‡¶¨‡¶∞‡ßá‡¶∞ ‡¶∂‡¶ø‡¶∞‡ßã‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®..." value="‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ñ‡¶¨‡¶∞‡ßá‡¶∞ ‡¶∂‡¶ø‡¶∞‡ßã‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®">
        </div>

        <div class="input-group">
          <label>üñºÔ∏è ‡¶õ‡¶¨‡¶ø ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</label>
          <div class="file-upload-wrapper">
            <input type="file" id="imageUpload" accept="image/*" style="display: none;">
            <button class="file-upload-btn" onclick="document.getElementById('imageUpload').click()">
              <i class="fas fa-upload"></i> ‡¶õ‡¶¨‡¶ø ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®
            </button>
          </div>
        </div>

        <div class="input-group">
          <label for="imageUrlInput">üîó ‡¶Ö‡¶•‡¶¨‡¶æ ‡¶õ‡¶¨‡¶ø‡¶∞ ‡¶≤‡¶ø‡¶Ç‡¶ï</label>
          <input type="text" id="imageUrlInput" placeholder="‡¶õ‡¶¨‡¶ø‡¶∞ URL ‡¶™‡ßá‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®...">
        </div>

        <div class="input-group">
          <label>üè¢ ‡¶≤‡ßã‡¶ó‡ßã ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</label>
          <div class="file-upload-wrapper">
            <input type="file" id="logoUpload" accept="image/*" style="display: none;">
            <button class="file-upload-btn" onclick="document.getElementById('logoUpload').click()">
              <i class="fas fa-upload"></i> ‡¶≤‡ßã‡¶ó‡ßã ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®
            </button>
          </div>
        </div>

        <div class="input-group">
          <label for="logoUrlInput">üîó ‡¶Ö‡¶•‡¶¨‡¶æ ‡¶≤‡ßã‡¶ó‡ßã‡¶∞ ‡¶≤‡¶ø‡¶Ç‡¶ï</label>
          <input type="text" id="logoUrlInput" placeholder="‡¶≤‡ßã‡¶ó‡ßã‡¶∞ URL ‡¶™‡ßá‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®...">
        </div>

        <div class="input-group">
          <label>üé® ‡¶¨‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶° ‡¶ï‡¶æ‡¶≤‡¶æ‡¶∞</label>
          <div class="color-picker-group">
            <div class="color-option active" data-color="#dc2626" title="‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡¶≤‡¶æ‡¶≤"></div>
            <div class="color-option" data-color="#2563eb" title="‡¶®‡ßÄ‡¶≤"></div>
            <div class="color-option" data-color="#16a34a" title="‡¶∏‡¶¨‡ßÅ‡¶ú"></div>
            <div class="color-option" data-color="#ea580c" title="‡¶ï‡¶Æ‡¶≤‡¶æ"></div>
            <div class="color-option" data-color="#9333ea" title="‡¶¨‡ßá‡¶ó‡ßÅ‡¶®‡¶ø"></div>
            <div class="color-option" data-color="#0891b2" title="‡¶Ü‡¶ï‡¶æ‡¶∂‡ßÄ"></div>
          </div>
        </div>

        <div class="input-group">
          <label>üìã ‡¶ü‡ßá‡¶Æ‡¶™‡ßç‡¶≤‡ßá‡¶ü ‡¶™‡ßç‡¶∞‡¶ø‡¶∏‡ßá‡¶ü</label>
          <div class="template-grid">
            <button class="template-btn active" data-template="default">
              <i class="fas fa-newspaper"></i> ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü
            </button>
            <button class="template-btn" data-template="breaking">
              <i class="fas fa-bolt"></i> ‡¶¨‡ßç‡¶∞‡ßá‡¶ï‡¶ø‡¶Ç
            </button>
            <button class="template-btn" data-template="sports">
              <i class="fas fa-futbol"></i> ‡¶ñ‡ßá‡¶≤‡¶æ
            </button>
            <button class="template-btn" data-template="tech">
              <i class="fas fa-microchip"></i> ‡¶™‡ßç‡¶∞‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§‡¶ø
            </button>
          </div>
        </div>

        <div class="input-group">
          <label for="fontSizeSlider">üî§ ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú: <span id="fontSizeValue">32px</span></label>
          <input type="range" id="fontSizeSlider" class="font-size-slider" min="20" max="48" value="32">
        </div>

        <div class="actions">
          <button class="btn btn-primary" onclick="downloadCard()">
            <i class="fas fa-download"></i> ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°
          </button>
          <button class="btn btn-secondary" onclick="resetCard()">
            <i class="fas fa-redo"></i> ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü
          </button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // DOM Elements
    const headlineInput = document.getElementById('headlineInput');
    const newsTitle = document.getElementById('newsTitle');
    const fontSizeSlider = document.getElementById('fontSizeSlider');
    const fontSizeValue = document.getElementById('fontSizeValue');
    const colorOptions = document.querySelectorAll('.color-option');
    const templateBtns = document.querySelectorAll('.template-btn');
    const imageUpload = document.getElementById('imageUpload');
    const imageUrlInput = document.getElementById('imageUrlInput');
    const logoUpload = document.getElementById('logoUpload');
    const logoUrlInput = document.getElementById('logoUrlInput');
    const cardImage = document.getElementById('cardImage');

    // Image storage
    let currentImage = null;
    let currentLogo = null;

    // Event Listeners
    headlineInput.addEventListener('input', updateHeadline);
    fontSizeSlider.addEventListener('input', updateFontSize);
    imageUpload.addEventListener('change', handleImageUpload);
    imageUrlInput.addEventListener('input', handleImageUrl);
    logoUpload.addEventListener('change', handleLogoUpload);
    logoUrlInput.addEventListener('input', handleLogoUrl);

    colorOptions.forEach(option => {
      option.addEventListener('click', () => updateBrandColor(option.dataset.color));
    });

    templateBtns.forEach(btn => {
      btn.addEventListener('click', () => applyTemplate(btn.dataset.template));
    });

    // Functions
    function handleImageUpload(event) {
      const file = event.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
          currentImage = e.target.result;
          updateCardImage();
          updateUploadButton('imageUpload', file.name);
        };
        reader.readAsDataURL(file);
      }
    }

    function handleImageUrl() {
      const url = imageUrlInput.value.trim();
      if (url) {
        currentImage = url;
        updateCardImage();
      } else {
        currentImage = null;
        updateCardImage();
      }
    }

    function handleLogoUpload(event) {
      const file = event.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
          currentLogo = e.target.result;
          updateCardLogo();
          updateUploadButton('logoUpload', file.name);
        };
        reader.readAsDataURL(file);
      }
    }

    function handleLogoUrl() {
      const url = logoUrlInput.value.trim();
      if (url) {
        currentLogo = url;
        updateCardLogo();
      } else {
        currentLogo = null;
        updateCardLogo();
      }
    }

    function updateCardImage() {
      if (currentImage) {
        cardImage.style.backgroundImage = `url(${currentImage})`;
        cardImage.style.backgroundSize = 'cover';
        cardImage.style.backgroundPosition = 'center';
        cardImage.textContent = '';
      } else {
        cardImage.style.backgroundImage = '';
        cardImage.style.backgroundSize = '';
        cardImage.style.backgroundPosition = '';
        cardImage.textContent = '‡¶õ‡¶¨‡¶ø';
      }
    }

    function updateCardLogo() {
      const logoElement = document.querySelector('.channel-logo');
      if (currentLogo) {
        logoElement.style.backgroundImage = `url(${currentLogo})`;
        logoElement.style.backgroundSize = 'cover';
        logoElement.style.backgroundPosition = 'center';
        logoElement.textContent = '';
      } else {
        logoElement.style.backgroundImage = '';
        logoElement.style.backgroundSize = '';
        logoElement.style.backgroundPosition = '';
        logoElement.textContent = '‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶Æ‡¶æ‡¶ú';
      }
    }

    function updateUploadButton(uploadId, fileName) {
      const button = document.querySelector(`button[onclick*="${uploadId}"]`);
      if (button) {
        button.classList.add('has-file');
        button.innerHTML = `<i class="fas fa-check"></i> ${fileName.substring(0, 20)}${fileName.length > 20 ? '...' : ''}`;
      }
    }

    function updateHeadline() {
      const headline = headlineInput.value || '‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ñ‡¶¨‡¶∞‡ßá‡¶∞ ‡¶∂‡¶ø‡¶∞‡ßã‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®';
      newsTitle.textContent = headline;
    }

    function updateFontSize() {
      const size = fontSizeSlider.value;
      fontSizeValue.textContent = size + 'px';
      newsTitle.style.fontSize = size + 'px';
    }

    function updateBrandColor(color) {
      document.documentElement.style.setProperty('--brand-primary', color);
      document.documentElement.style.setProperty('--brand-secondary', adjustBrightness(color, -20));
      
      // Update active state
      colorOptions.forEach(opt => opt.classList.remove('active'));
      document.querySelector(`[data-color="${color}"]`).classList.add('active');
    }

    function applyTemplate(template) {
      const templates = {
        default: {
          headline: '‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ñ‡¶¨‡¶∞‡ßá‡¶∞ ‡¶∂‡¶ø‡¶∞‡ßã‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®',
          color: '#dc2626'
        },
        breaking: {
          headline: '‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø: ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶∏‡¶Ç‡¶¨‡¶æ‡¶¶',
          color: '#dc2626'
        },
        sports: {
          headline: '‡¶ñ‡ßá‡¶≤‡¶æ‡¶∞ ‡¶ú‡¶ó‡¶§‡ßá ‡¶®‡¶§‡ßÅ‡¶® ‡¶∞‡ßá‡¶ï‡¶∞‡ßç‡¶°',
          color: '#16a34a'
        },
        tech: {
          headline: '‡¶™‡ßç‡¶∞‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§‡¶ø‡¶∞ ‡¶®‡¶§‡ßÅ‡¶® ‡¶â‡¶¶‡ßç‡¶≠‡¶æ‡¶¨‡¶®',
          color: '#2563eb'
        }
      };

      const selectedTemplate = templates[template];
      headlineInput.value = selectedTemplate.headline;
      updateHeadline();
      updateBrandColor(selectedTemplate.color);

      // Update active state
      templateBtns.forEach(btn => btn.classList.remove('active'));
      document.querySelector(`[data-template="${template}"]`).classList.add('active');
    }

    function downloadCard() {
      const button = event.target;
      const originalContent = button.innerHTML;
      
      // Show loading state
      button.innerHTML = '<div class="loading"></div> ‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏‡¶ø‡¶Ç...';
      button.disabled = true;

      try {
        // Create canvas-based download
        createCanvasFromCard().then(canvas => {
          const link = document.createElement('a');
          const timestamp = new Date().toISOString().slice(0, 19).replace(/:/g, '-');
          link.download = `amadersomaj-news-card-${timestamp}.png`;
          link.href = canvas.toDataURL('image/png', 1.0);
          link.click();

          // Show success state
          button.innerHTML = '<i class="fas fa-check"></i> ‡¶∏‡¶´‡¶≤!';
          showNotification('‡¶ï‡¶æ‡¶∞‡ßç‡¶° ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!', 'success');
          
          setTimeout(() => {
            button.innerHTML = originalContent;
            button.disabled = false;
          }, 2000);
        }).catch(err => {
          console.error('Download failed:', err);
          button.innerHTML = originalContent;
          button.disabled = false;
          showNotification('‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§', 'error');
        });
      } catch (err) {
        console.error('Download failed:', err);
        button.innerHTML = originalContent;
        button.disabled = false;
        showNotification('‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§', 'error');
      }
    }

    function createCanvasFromCard() {
      return new Promise((resolve, reject) => {
        const card = document.getElementById('newsCard');
        const rect = card.getBoundingClientRect();
        
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        
        // Set high resolution
        const scale = 2;
        canvas.width = rect.width * scale;
        canvas.height = rect.height * scale;
        ctx.scale(scale, scale);
        
        // Get computed styles
        const brandColor = getComputedStyle(document.documentElement).getPropertyValue('--brand-primary').trim();
        const brandSecondary = getComputedStyle(document.documentElement).getPropertyValue('--brand-secondary').trim();
        
        // Draw card background
        ctx.fillStyle = '#f8f9fa';
        ctx.fillRect(0, 0, rect.width, rect.height);
        
        // Function to draw image
        const drawImage = (imageSrc, x, y, width, height, isRounded = false) => {
          return new Promise((resolve) => {
            if (!imageSrc) {
              resolve();
              return;
            }
            
            const img = new Image();
            img.crossOrigin = 'anonymous';
            img.onload = () => {
              ctx.save();
              if (isRounded) {
                ctx.beginPath();
                ctx.roundRect(x, y, width, height, 12);
                ctx.clip();
              }
              ctx.drawImage(img, x, y, width, height);
              ctx.restore();
              resolve();
            };
            img.onerror = () => resolve();
            img.src = imageSrc;
          });
        };
        
        // Draw all elements
        Promise.all([
          // Draw logo
          currentLogo ? drawImage(currentLogo, 20, 20, 80, 80, true) : Promise.resolve(),
          // Draw main image
          currentImage ? drawImage(currentImage, 20, 120, rect.width - 40, 250, true) : Promise.resolve()
        ]).then(() => {
          // Draw logo background if no logo
          if (!currentLogo) {
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(20, 20, 80, 80);
            ctx.fillStyle = '#666666';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶Æ‡¶æ‡¶ú', 60, 65);
          }
          
          // Draw date tag
          ctx.fillStyle = brandColor;
          ctx.fillRect(rect.width - 150, 20, 120, 35);
          ctx.fillStyle = '#ffffff';
          ctx.font = '14px Arial';
          ctx.fillText('‡ßß‡ß´ ‡¶ú‡ßÅ‡¶≤‡¶æ‡¶á, ‡ß®‡ß¶‡ß®‡ß´', rect.width - 90, 42);
          
          // Draw image placeholder if no image
          if (!currentImage) {
            ctx.fillStyle = '#f0f0f0';
            ctx.fillRect(20, 120, rect.width - 40, 250);
            ctx.fillStyle = '#666666';
            ctx.font = '18px Arial';
            ctx.fillText('‡¶õ‡¶¨‡¶ø', rect.width / 2, 250);
          }
          
          // Draw content background
          const gradient = ctx.createLinearGradient(0, 390, rect.width, 390);
          gradient.addColorStop(0, brandColor);
          gradient.addColorStop(1, brandSecondary);
          ctx.fillStyle = gradient;
          ctx.fillRect(0, 390, rect.width, 120);
          
          // Draw headline
          ctx.fillStyle = '#ffffff';
          ctx.font = `bold ${fontSizeSlider.value}px Arial`;
          ctx.textAlign = 'center';
          
          const headline = newsTitle.textContent;
          const words = headline.split(' ');
          let line = '';
          let y = 430;
          const maxWidth = rect.width - 40;
          
          for (let n = 0; n < words.length; n++) {
            const testLine = line + words[n] + ' ';
            const metrics = ctx.measureText(testLine);
            const testWidth = metrics.width;
            
            if (testWidth > maxWidth && n > 0) {
              ctx.fillText(line, rect.width / 2, y);
              line = words[n] + ' ';
              y += parseInt(fontSizeSlider.value) + 5;
            } else {
              line = testLine;
            }
          }
          ctx.fillText(line, rect.width / 2, y);
          
          // Draw footer
          ctx.fillStyle = brandSecondary;
          ctx.fillRect(0, 510, rect.width, 60);
          ctx.fillStyle = '#ffffff';
          ctx.font = '16px Arial';
          ctx.fillText('üåê ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶™‡¶°‡¶º‡ßÅ‡¶®: amadersomaj.com', rect.width / 2, 545);
          
          resolve(canvas);
        }).catch(reject);
      });
    }

    function resetCard() {
      headlineInput.value = '‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ñ‡¶¨‡¶∞‡ßá‡¶∞ ‡¶∂‡¶ø‡¶∞‡ßã‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®';
      imageUrlInput.value = '';
      logoUrlInput.value = '';
      imageUpload.value = '';
      logoUpload.value = '';
      currentImage = null;
      currentLogo = null;
      fontSizeSlider.value = 32;
      
      updateHeadline();
      updateFontSize();
      updateCardImage();
      updateCardLogo();
      updateBrandColor('#dc2626');
      applyTemplate('default');
      
      // Reset upload buttons
      const imageBtn = document.querySelector('button[onclick*="imageUpload"]');
      const logoBtn = document.querySelector('button[onclick*="logoUpload"]');
      if (imageBtn) {
        imageBtn.classList.remove('has-file');
        imageBtn.innerHTML = '<i class="fas fa-upload"></i> ‡¶õ‡¶¨‡¶ø ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®';
      }
      if (logoBtn) {
        logoBtn.classList.remove('has-file');
        logoBtn.innerHTML = '<i class="fas fa-upload"></i> ‡¶≤‡ßã‡¶ó‡ßã ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®';
      }
      
      showNotification('‡¶ï‡¶æ‡¶∞‡ßç‡¶° ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá', 'success');
    }

    function adjustBrightness(hex, percent) {
      hex = hex.replace('#', '');
      const r = parseInt(hex.substr(0, 2), 16);
      const g = parseInt(hex.substr(2, 2), 16);
      const b = parseInt(hex.substr(4, 2), 16);
      
      const newR = Math.max(0, Math.min(255, r + (r * percent / 100)));
      const newG = Math.max(0, Math.min(255, g + (g * percent / 100)));
      const newB = Math.max(0, Math.min(255, b + (b * percent / 100)));
      
      return `#${Math.round(newR).toString(16).padStart(2, '0')}${Math.round(newG).toString(16).padStart(2, '0')}${Math.round(newB).toString(16).padStart(2, '0')}`;
    }

    function showNotification(message, type) {
      const notification = document.createElement('div');
      notification.className = `notification ${type}`;
      notification.textContent = message;
      document.body.appendChild(notification);
      
      setTimeout(() => notification.classList.add('show'), 100);
      setTimeout(() => {
        notification.classList.remove('show');
        setTimeout(() => document.body.removeChild(notification), 300);
      }, 3000);
    }

    function setDate() {
      const today = new Date();
      const options = { 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric'
      };
      document.getElementById('dateTag').textContent = today.toLocaleDateString('bn-BD', options);
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      setDate();
      updateFontSize();
    });
  </script>
</body>
</html>

